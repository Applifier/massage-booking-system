(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(41)},20:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),u=n.n(o),c=(n(20),n(2)),l=n.n(c),s=n(4),i=n(3),m=n(13),p=n.n(m),d={login:function(){var e=Object(s.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/api/login",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},v=function(){return r.a.createElement("div",null,"Kirjauduit sis\xe4\xe4n!")},w=function(e){var t=e.handleLoginFunction,n=e.email,a=e.password,o=e.setEmail,u=e.setPassword;return r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"K\xe4ytt\xe4j\xe4tunnus",r.a.createElement("input",{type:"text",value:n,name:"email",onChange:function(e){var t=e.target;return o(t.value)}})),r.a.createElement("div",null,"Salasana",r.a.createElement("input",{type:"password",value:a,name:"password",onChange:function(e){var t=e.target;return u(t.value)}})),r.a.createElement("button",{type:"submit"},"kirjaudu"))},f=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=(t[0],t[1],Object(a.useState)(null)),o=Object(i.a)(n,2),u=o[0],c=o[1],m=Object(a.useState)(null),p=Object(i.a)(m,2),f=(p[0],p[1],Object(a.useState)("")),g=Object(i.a)(f,2),b=g[0],h=g[1],j=Object(a.useState)(""),E=Object(i.a)(j,2),O=E[0],y=E[1];console.log("User currently",u),Object(a.useEffect)(function(){var e=window.localStorage.getItem("loggedInUser");if(e){var t=JSON.parse(e);c(t)}},[]);var S=function(){var e=Object(s.a)(l.a.mark(function e(t){var n;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,d.login({email:b,password:O});case 4:n=e.sent,window.localStorage.setItem("loggedInUser",JSON.stringify(n)),c(n),h(""),y(""),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("virhe kirjautumisessa",e.t0);case 14:case"end":return e.stop()}},e,null,[[1,11]])}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("h1",null,"Unity massage booking system"),r.a.createElement("h2",null,"Kirjaudu"),null===u&&r.a.createElement(w,{handleLoginFunction:S,email:b,setEmail:h,password:O,setPassword:y}),null!==u&&r.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(r.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[14,1,2]]]);
//# sourceMappingURL=main.5c4fa05f.chunk.js.map